<div class="container-fluid mt-4">

  <h2 class="mb-3">Gestión de Pacientes</h2>


  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div class="card shadow-sm" *ngIf="!cargando && usuarios.length">
    <div class="card-body">

      <table class="table table-hover table-striped align-middle">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre Completo</th>
            <th>Correo</th>
            <th>Teléfono</th>
            <th>DNI</th>
            <th>Dirección</th>
            <th class="text-center">Estado</th>
            <th class="text-center">Acciones</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let p of usuarios; trackBy: trackById">
            <td>{{ p.idUsuario }}</td>
            <td>{{ p.nombreCompleto }}</td>
            <td>{{ p.email }}</td>
            <td>{{ p.telefono }}</td>
            <td>{{ p.dni }}</td>
            <td>{{ p.direccion }}</td>
            <td class="text-center">
              <span class="badge" [ngClass]="p.activo ? 'bg-success' : 'bg-danger'">
                {{ p.activo ? 'Activo' : 'Inactivo' }}
              </span>
            </td>
            <td class="text-center">
              <button class="btn btn-sm btn-primary" (click)="editar(p)">
                <i class="fas fa-edit"></i>
              </button>
            </td>
          </tr>
        </tbody>
          
      </table>
<app-editar-usuario
  *ngIf="usuarioSeleccionado"
  [usuario]="usuarioSeleccionado"
  (guardar)="guardarUsuario($event)"
  (cancelar)="cancelarEdicion()">
</app-editar-usuario>

    </div>
    
  </div>

</div>